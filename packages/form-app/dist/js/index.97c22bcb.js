(function(){"use strict";var e={2717:function(e,t,n){var o=n(9242),r=n(3396);function a(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var u=n(89);const c={},s=(0,u.Z)(c,[["render",a]]);var i=s,f=n(2483),l=(n(4578),n(1751)),d=(n(917),n(6428)),m=(n(3221),n(6939)),p=n(4870),v=n(7139),h=n(5877),g=n(1565),w=n(2521),y=n(2004),b=n(6265),k=n.n(b);const O=k().create({baseURL:"http://192.168.1.20:3000/mock/20/getScheam",timeout:1e3,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformResponse:[function(e){try{return JSON.parse(e)}catch(t){return e}}]});O.interceptors.response.use((e=>{const{status:t,data:n}=e||{};return 200===t?n:e}));var _=O;function j(e){return _({url:`/page/${e}`,method:"GET"})}function S(e){return _({url:"/schema-data",method:"GET",params:{code:e}})}function U(e,t){return _({url:"/data/save",method:"post",params:{pageId:e,data:t}})}const I={id:"page"},C=(0,r.Uk)("返回"),Z=(0,r.Uk)("按钮");var q=(0,r.aZ)({__name:"HomeView",setup(e){const t=(0,f.yj)(),n=(0,f.tv)();console.log("11111111111111111");const o=()=>{n.go(-1)},a=(0,p.iH)(!0);t.query.formId?a.value=!0:a.value=!1;const u=t.query.formId||t.query.templateId,c=(0,p.qj)({code:"",Message:"",data:{schema:{},form:{}}}),s=(0,p.iH)(!0),i=()=>{(0,h.EE)((()=>{s.value=!0,console.log(b.values,"开始提交")})),(0,h.zt)((()=>{console.log(b.errors),(0,g.z8)({message:"内容输入有误，请修改后重试",type:"error"}),console.log(b.values,"失败了"),s.value=!1})),(0,h.dd)((async()=>{if(s.value){const e=await U(u,b.values);"200"===e.code&&(0,g.z8)({message:"提交成功",type:"success"})}}))},b=(0,h.Np)({effects:i}),{SchemaField:k}=(0,y.cA)({components:{Input:m.Z,FormItem:d.ZP}});return(0,r.wF)((async()=>{b.values=(await S(u)).data,console.log("正在请求 code = ",u,"的页面"),c.data=(await j(u)).data,console.log(c.data)})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",I,[(0,r.Wm)((0,p.SU)(y.RV),{form:(0,p.SU)(b)},{default:(0,r.w5)((()=>[(0,r.Wm)((0,p.SU)(w.mi),{class:"goBack",onClick:t[0]||(t[0]=e=>o())},{default:(0,r.w5)((()=>[C])),_:1}),(0,r.Wm)((0,p.SU)(l.ZP),(0,v.vs)((0,r.F4)(c.data.form)),{default:(0,r.w5)((()=>[(0,r.Wm)((0,p.SU)(k),{schema:c.data.schema},null,8,["schema"])])),_:1},16),a.value?((0,r.wg)(),(0,r.j4)((0,p.SU)(y.Yy),{key:0},{default:(0,r.w5)((({form:e})=>[(0,r.Wm)((0,p.SU)(w.mi),{type:"primary",onClick:e.submit},{default:(0,r.w5)((()=>[Z])),_:2},1032,["onClick"])])),_:1})):(0,r.kq)("",!0)])),_:1},8,["form"])]))}});const x=(0,u.Z)(q,[["__scopeId","data-v-19abd76b"]]);var E=x;const F=[{path:"/",name:"home",component:E}],P=(0,f.p7)({history:(0,f.PO)(""),routes:F});var T=P;n(589),n(4415);(0,o.ri)(i).use(T).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var u=1/0;for(f=0;f<e.length;f++){o=e[f][0],r=e[f][1],a=e[f][2];for(var c=!0,s=0;s<o.length;s++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(c=!1,a<u&&(u=a));if(c){e.splice(f--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,u=o[0],c=o[1],s=o[2],i=0;if(u.some((function(t){return 0!==e[t]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var f=s(n)}for(t&&t(o);i<u.length;i++)a=u[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(f)},o=self["webpackChunkroot"]=self["webpackChunkroot"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2717)}));o=n.O(o)})();